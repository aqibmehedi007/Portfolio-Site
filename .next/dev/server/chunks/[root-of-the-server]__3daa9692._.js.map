{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///D:/GitHub/Portfolio-Site/src/core/prisma.ts"],"sourcesContent":["import { PrismaClient } from '@prisma/client';\r\n\r\nconst globalForPrisma = globalThis as unknown as {\r\n    prisma: PrismaClient | undefined;\r\n};\r\n\r\nexport const prisma = globalForPrisma.prisma ?? new PrismaClient();\r\n\r\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma;\r\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,kBAAkB;AAIjB,MAAM,SAAS,gBAAgB,MAAM,IAAI,IAAI,sMAAY;AAEhE,wCAA2C,gBAAgB,MAAM,GAAG"}},
    {"offset": {"line": 65, "column": 0}, "map": {"version":3,"sources":["file:///D:/GitHub/Portfolio-Site/src/app/api/contact/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server';\r\nimport { Resend } from 'resend';\r\nimport { z } from 'zod';\r\nimport { prisma } from '@/core/prisma';\r\n\r\n// Initialize Resend\r\n// We'll construct the key from your environment variable soon. \r\n// For now, it will fail gracefully if it's not set.\r\nconst resendKey = process.env.RESEND_API_KEY;\r\nconst resend = resendKey ? new Resend(resendKey) : null;\r\n\r\nconst ContactSchema = z.object({\r\n    name: z.string().min(2, \"Name must be at least 2 characters.\"),\r\n    email: z.string().email(\"Invalid email address.\"),\r\n    service: z.string().min(1, \"Please select an area of interest.\"),\r\n    budget: z.string(),\r\n    message: z.string().min(10, \"Message must be at least 10 characters long.\"),\r\n});\r\n\r\nexport async function POST(req: Request) {\r\n    try {\r\n        const body = await req.json();\r\n\r\n        // Validate that the request matches our Zod Schema\r\n        const result = ContactSchema.parse(body);\r\n\r\n        // Add database insertion logic here (Phase 2)\r\n        const lead = await prisma.lead.create({ data: result });\r\n\r\n        if (resend) {\r\n            // Send the email to you\r\n            await resend.emails.send({\r\n                from: 'Portfolio Contact <onboarding@resend.dev>', // You will verify your own domain later\r\n                to: process.env.CONTACT_EMAIL || 'me@example.com',\r\n                subject: `New Lead: ${result.service} - ${result.name}`,\r\n                text: `\r\nName: ${result.name}\r\nEmail: ${result.email}\r\nService: ${result.service}\r\nBudget Range: ${result.budget}\r\n\r\nMessage:\r\n${result.message}\r\n        `,\r\n            });\r\n\r\n            // Send a confirmation email to the client\r\n            await resend.emails.send({\r\n                from: 'Aqib Mehedi <onboarding@resend.dev>', // You will verify your own domain later\r\n                to: result.email,\r\n                subject: `Received your inquiry: ${result.service}`,\r\n                text: `Hi ${result.name},\\n\\nThank you for reaching out regarding ${result.service}. I have received your message and will review your specifications shortly. I typically respond within 24-48 business hours to arrange an initial consultation.\\n\\nBest regards,\\nAqib Mehedi\\nSenior AI & Mobile Solutions Architect`,\r\n            });\r\n        }\r\n\r\n        return NextResponse.json({ success: true, message: \"Message sent successfully\" });\r\n\r\n    } catch (error) {\r\n        if (error instanceof z.ZodError) {\r\n            return NextResponse.json({ success: false, errors: error.format() }, { status: 400 });\r\n        }\r\n\r\n        console.error(\"Contact API Error:\", error);\r\n        return NextResponse.json(\r\n            { success: false, message: \"Internal server error\" },\r\n            { status: 500 }\r\n        );\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,oBAAoB;AACpB,gEAAgE;AAChE,oDAAoD;AACpD,MAAM,YAAY,QAAQ,GAAG,CAAC,cAAc;AAC5C,MAAM,SAAS,YAAY,IAAI,oJAAM,CAAC,aAAa;AAEnD,MAAM,gBAAgB,oLAAC,CAAC,MAAM,CAAC;IAC3B,MAAM,oLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACxB,OAAO,oLAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,SAAS,oLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC3B,QAAQ,oLAAC,CAAC,MAAM;IAChB,SAAS,oLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,IAAI;AAChC;AAEO,eAAe,KAAK,GAAY;IACnC,IAAI;QACA,MAAM,OAAO,MAAM,IAAI,IAAI;QAE3B,mDAAmD;QACnD,MAAM,SAAS,cAAc,KAAK,CAAC;QAEnC,8CAA8C;QAC9C,MAAM,OAAO,MAAM,iIAAM,CAAC,IAAI,CAAC,MAAM,CAAC;YAAE,MAAM;QAAO;QAErD,IAAI,QAAQ;YACR,wBAAwB;YACxB,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;gBACrB,MAAM;gBACN,IAAI,QAAQ,GAAG,CAAC,aAAa,IAAI;gBACjC,SAAS,CAAC,UAAU,EAAE,OAAO,OAAO,CAAC,GAAG,EAAE,OAAO,IAAI,EAAE;gBACvD,MAAM,CAAC;MACjB,EAAE,OAAO,IAAI,CAAC;OACb,EAAE,OAAO,KAAK,CAAC;SACb,EAAE,OAAO,OAAO,CAAC;cACZ,EAAE,OAAO,MAAM,CAAC;;;AAG9B,EAAE,OAAO,OAAO,CAAC;QACT,CAAC;YACG;YAEA,0CAA0C;YAC1C,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;gBACrB,MAAM;gBACN,IAAI,OAAO,KAAK;gBAChB,SAAS,CAAC,uBAAuB,EAAE,OAAO,OAAO,EAAE;gBACnD,MAAM,CAAC,GAAG,EAAE,OAAO,IAAI,CAAC,0CAA0C,EAAE,OAAO,OAAO,CAAC,qOAAqO,CAAC;YAC7T;QACJ;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;YAAM,SAAS;QAA4B;IAEnF,EAAE,OAAO,OAAO;QACZ,IAAI,iBAAiB,oLAAC,CAAC,QAAQ,EAAE;YAC7B,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,SAAS;gBAAO,QAAQ,MAAM,MAAM;YAAG,GAAG;gBAAE,QAAQ;YAAI;QACvF;QAEA,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO,gJAAY,CAAC,IAAI,CACpB;YAAE,SAAS;YAAO,SAAS;QAAwB,GACnD;YAAE,QAAQ;QAAI;IAEtB;AACJ"}}]
}