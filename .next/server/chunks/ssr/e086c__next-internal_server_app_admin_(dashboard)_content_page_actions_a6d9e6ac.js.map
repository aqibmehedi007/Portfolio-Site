{"version":3,"sources":["../../../../../../GitHub/Portfolio-Site/src/app/admin/%28dashboard%29/content/actions.ts"],"sourcesContent":["\"use server\";\r\n\r\nimport { prisma } from \"@/core/prisma\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\nexport async function addFaq(data: FormData) {\r\n    try {\r\n        const question = data.get(\"question\") as string;\r\n        const answer = data.get(\"answer\") as string;\r\n\r\n        if (!question || !answer) return { error: \"Question and answer are required\" };\r\n\r\n        const count = await prisma.faq.count();\r\n\r\n        await prisma.faq.create({\r\n            data: {\r\n                question,\r\n                answer,\r\n                orderIdx: count\r\n            }\r\n        });\r\n\r\n        revalidatePath('/');\r\n        revalidatePath('/best-ai-engineer-bangladesh');\r\n        revalidatePath('/admin/content');\r\n        return { success: true };\r\n    } catch (e) {\r\n        return { error: \"Failed to add FAQ\" };\r\n    }\r\n}\r\n\r\nexport async function deleteFaq(id: string) {\r\n    try {\r\n        await prisma.faq.delete({ where: { id } });\r\n\r\n        revalidatePath('/');\r\n        revalidatePath('/best-ai-engineer-bangladesh');\r\n        revalidatePath('/admin/content');\r\n        return { success: true };\r\n    } catch (e) {\r\n        return { error: \"Failed to delete FAQ\" };\r\n    }\r\n}\r\n\r\nexport async function addProcess(data: FormData) {\r\n    try {\r\n        const step = data.get(\"step\") as string;\r\n        const title = data.get(\"title\") as string;\r\n        const description = data.get(\"description\") as string;\r\n        const icon = data.get(\"icon\") as string;\r\n\r\n        if (!step || !title || !description) return { error: \"All fields are required\" };\r\n\r\n        const count = await prisma.processStep.count();\r\n\r\n        await prisma.processStep.create({\r\n            data: { step, title, description, icon, orderIdx: count }\r\n        });\r\n\r\n        revalidatePath('/');\r\n        return { success: true };\r\n    } catch (e) {\r\n        return { error: \"Failed to add Process Step\" };\r\n    }\r\n}\r\n\r\nexport async function deleteProcess(id: string) {\r\n    try {\r\n        await prisma.processStep.delete({ where: { id } });\r\n        revalidatePath('/');\r\n        return { success: true };\r\n    } catch (e) {\r\n        return { error: \"Failed to delete\" };\r\n    }\r\n}\r\n\r\nexport async function addSkill(data: FormData) {\r\n    try {\r\n        const title = data.get(\"title\") as string;\r\n        const description = data.get(\"description\") as string;\r\n        const icon = data.get(\"icon\") as string;\r\n        const skillsList = data.get(\"skillsList\") as string;\r\n\r\n        if (!title || !description || !skillsList) return { error: \"All fields are required\" };\r\n\r\n        const skillArray = skillsList.split(',').map(s => s.trim()).filter(Boolean);\r\n        const count = await prisma.skill.count();\r\n\r\n        await prisma.skill.create({\r\n            data: { title, description, icon, skills: skillArray, orderIdx: count }\r\n        });\r\n\r\n        revalidatePath('/');\r\n        return { success: true };\r\n    } catch (e) {\r\n        return { error: \"Failed to add Skill\" };\r\n    }\r\n}\r\n\r\nexport async function deleteSkill(id: string) {\r\n    try {\r\n        await prisma.skill.delete({ where: { id } });\r\n        revalidatePath('/');\r\n        return { success: true };\r\n    } catch (e) {\r\n        return { error: \"Failed to delete\" };\r\n    }\r\n}\r\n\r\n"],"names":[],"mappings":"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"}