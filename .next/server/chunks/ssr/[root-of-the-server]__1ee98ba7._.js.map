{"version":3,"sources":["../../../../../../GitHub/Portfolio-Site/src/app/admin/%28dashboard%29/settings/SettingsForm.tsx/__nextjs-internal-proxy.mjs","../../../../../../GitHub/Portfolio-Site/src/app/admin/%28dashboard%29/settings/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SettingsForm = registerClientReference(\n    function() { throw new Error(\"Attempted to call SettingsForm() from the server but SettingsForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/GitHub/Portfolio-Site/src/app/admin/(dashboard)/settings/SettingsForm.tsx\",\n    \"SettingsForm\",\n);\n","import { prisma } from \"@/core/prisma\";\r\nimport { SettingsForm } from \"./SettingsForm\";\r\nimport { Mail, Shield, Server } from \"lucide-react\";\r\n\r\nexport const metadata = {\r\n    title: \"Site Settings - Admin\"\r\n};\r\n\r\nexport default async function SettingsPage() {\r\n    // Fetch all current settings so we can pre-fill\r\n    const settingsRaw = await prisma.setting.findMany();\r\n    const settings = settingsRaw.reduce((acc: Record<string, string>, curr: { key: string; value: string }) => {\r\n        acc[curr.key] = curr.value;\r\n        return acc;\r\n    }, {} as Record<string, string>);\r\n\r\n    // If a setting isn't in the DB yet, pre-fill it with our current API defaults \r\n    // so the admin can see what is currently being used\r\n    if (!settings.SMTP_HOST) settings.SMTP_HOST = process.env.SMTP_HOST || 'mail.aqibmehedi.com';\r\n    if (!settings.SMTP_PORT) settings.SMTP_PORT = process.env.SMTP_PORT || '465';\r\n    if (!settings.SMTP_USER) settings.SMTP_USER = process.env.SMTP_USER || 'mr@aqibmehedi.com';\r\n    if (!settings.SMTP_PASS) settings.SMTP_PASS = process.env.SMTP_PASS || 'ACE@VICA.?9Tiv~V';\r\n    if (!settings.CONTACT_EMAIL) settings.CONTACT_EMAIL = process.env.CONTACT_EMAIL || 'aqibcareer007@gmail.com';\r\n\r\n    return (\r\n        <div className=\"max-w-4xl\">\r\n            <h1 className=\"text-3xl font-bold text-white mb-2\">Platform Settings</h1>\r\n            <p className=\"text-slate-400 mb-8\">Manage your database-driven environment configurations like SMTP mailers without touching .env files on CPanel.</p>\r\n\r\n            <SettingsForm defaultValues={settings} />\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"yYAEO,IAAM,EAAe,CAAA,EAAA,AAD5B,EAAA,CAAA,CAAA,QAC4B,uBAAA,AAAuB,EAC/C,WAAa,MAAM,AAAI,MAAM,sOAAwO,EACrQ,0GACA,qEAHG,IAAM,EAAe,CAAA,EAAA,AAD5B,EAAA,CAAA,CAAA,QAC4B,uBAAA,AAAuB,EAC/C,WAAa,MAAM,AAAI,MAAM,sOAAwO,EACrQ,sFACA,wHCLJ,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QAOe,eAAe,IAG1B,IAAM,EAAW,CADG,MAAM,EAAA,MAAM,CAAC,OAAO,CAAC,QAAQ,EAAA,EACpB,MAAM,CAAC,CAAC,EAA6B,KAC9D,CAAG,CAAC,EAAK,GAAG,CAAC,CAAG,EAAK,KAAK,CACnB,GACR,CAAC,GAUJ,OANI,AAAC,EAAS,SAAS,GAAE,EAAS,SAAS,CAAG,QAAQ,GAAG,CAAC,SAAS,EAAI,qBAAA,EACnE,AAAC,EAAS,SAAS,GAAE,EAAS,SAAS,CAAG,QAAQ,GAAG,CAAC,SAAS,EAAI,KAAA,EACnE,AAAC,EAAS,SAAS,GAAE,EAAS,SAAS,CAAG,QAAQ,GAAG,CAAC,SAAS,EAAI,mBAAA,EACnE,AAAC,EAAS,SAAS,GAAE,EAAS,SAAS,CAAG,QAAQ,GAAG,CAAC,SAAS,EAAI,kBAAA,EACnE,AAAC,EAAS,aAAa,GAAE,EAAS,aAAa,CAAG,QAAQ,GAAG,CAAC,aAAa,EAAI,yBAAA,EAG/E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACX,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8CAAqC,sBACnD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BAAsB,oHAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,cAAe,MAGzC,mCA5BwB,CACpB,MAAO,uBACX","ignoreList":[0]}