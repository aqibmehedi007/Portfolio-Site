module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},92737,a=>{"use strict";let b=(0,a.i(1269).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],92737)},36361,a=>{"use strict";let b=(0,a.i(1269).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],36361)},37637,a=>{a.n(a.i(5621))},80375,a=>{"use strict";var b=a.i(7997),c=a.i(9542),d=a.i(12149),e=a.i(85985),f=a.i(58836),g=a.i(1269);let h=(0,g.default)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);var i=a.i(36361);let j=(0,g.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),k=(0,g.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var l=a.i(92737),m=a.i(95936);async function n(){let[a,g,n,o,p,q,r,s]=await Promise.all([c.prisma.lead.count(),c.prisma.project.count(),c.prisma.visitor.count(),c.prisma.blogPost.count(),c.prisma.visitor.aggregate({_sum:{visitCount:!0}}),c.prisma.lead.findMany({where:{status:"NEW"},orderBy:{createdAt:"desc"},take:5}),c.prisma.visitor.findMany({orderBy:{lastVisit:"desc"},take:5}),c.prisma.blogPost.findMany({orderBy:{createdAt:"desc"},take:3,include:{category:!0}})]),t=p._sum.visitCount??0,u=q.length,v=[{label:"Total Leads",value:a,icon:d.Users,color:"text-brand-amber",bg:"bg-brand-amber/10",href:"/admin/leads",badge:u>0?`${u} new`:null},{label:"CMS Projects",value:g,icon:e.Folders,color:"text-blue-400",bg:"bg-blue-400/10",href:"/admin/projects",badge:null},{label:"Unique Visitors",value:n,icon:f.Globe,color:"text-green-400",bg:"bg-green-400/10",href:"/admin/visitors",badge:null},{label:"Page Views",value:t,icon:j,color:"text-purple-400",bg:"bg-purple-400/10",href:"/admin/visitors",badge:null},{label:"Blog Posts",value:o,icon:h,color:"text-pink-400",bg:"bg-pink-400/10",href:"#",badge:null},{label:"New Leads",value:u,icon:i.TrendingUp,color:"text-orange-400",bg:"bg-orange-400/10",href:"/admin/leads",badge:u>0?"action needed":null}],w={};return r.forEach(a=>{let b=a.country||"Unknown";w[b]=(w[b]||0)+a.visitCount}),(0,b.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-500",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"System Overview"}),(0,b.jsx)("p",{className:"text-slate-400 mt-1 text-sm",children:"Your complete command center — live data across all systems."})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(a=>(0,b.jsxs)(m.default,{href:a.href,className:"glass-card p-5 border border-white/10 rounded-xl relative overflow-hidden group hover:border-brand-amber/40 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsx)("div",{className:`w-10 h-10 ${a.bg} rounded-lg flex items-center justify-center ${a.color} group-hover:scale-110 transition-transform`,children:(0,b.jsx)(a.icon,{size:20})}),a.badge&&(0,b.jsx)("span",{className:"text-xs font-bold bg-brand-amber/20 text-brand-amber px-2 py-0.5 rounded-full",children:a.badge})]}),(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsx)("div",{className:"text-3xl font-bold text-white",children:a.value.toLocaleString()}),(0,b.jsx)("div",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mt-1",children:a.label})]})]},a.label))}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 glass-card border border-white/10 rounded-xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[(0,b.jsxs)("h2",{className:"font-bold flex items-center gap-2",children:[(0,b.jsx)(k,{size:16,className:"text-brand-amber"}),"Pending Leads"]}),(0,b.jsxs)(m.default,{href:"/admin/leads",className:"text-xs text-slate-400 hover:text-brand-amber transition-colors flex items-center gap-1",children:["View all ",(0,b.jsx)(l.ArrowRight,{size:12})]})]}),q.length>0?(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{className:"border-b border-white/5 text-xs text-slate-500 uppercase tracking-widest",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"text-left px-6 py-3",children:"Lead"}),(0,b.jsx)("th",{className:"text-left px-4 py-3",children:"Service"}),(0,b.jsx)("th",{className:"text-left px-4 py-3",children:"Budget"}),(0,b.jsx)("th",{className:"text-right px-6 py-3",children:"Date"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-white/5",children:q.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-white/5 transition-colors",children:[(0,b.jsxs)("td",{className:"px-6 py-3",children:[(0,b.jsx)("div",{className:"font-bold text-white text-sm",children:a.name}),(0,b.jsx)("div",{className:"text-slate-500 text-xs",children:a.email})]}),(0,b.jsx)("td",{className:"px-4 py-3 text-slate-300 text-sm",children:a.service}),(0,b.jsx)("td",{className:"px-4 py-3 text-brand-amber font-bold text-sm",children:a.budget}),(0,b.jsx)("td",{className:"px-6 py-3 text-right text-slate-500 text-xs",children:a.createdAt.toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},a.id))})]}):(0,b.jsxs)("div",{className:"py-12 flex flex-col items-center justify-center text-center text-slate-500",children:[(0,b.jsx)(d.Users,{size:32,className:"mb-3 opacity-30"}),(0,b.jsx)("p",{className:"text-sm",children:"No pending leads. All clear."})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"glass-card border border-white/10 rounded-xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-5 py-4 border-b border-white/10 flex items-center justify-between",children:[(0,b.jsxs)("h2",{className:"font-bold text-sm flex items-center gap-2",children:[(0,b.jsx)(f.Globe,{size:14,className:"text-green-400"}),"Recent Visitors"]}),(0,b.jsx)(m.default,{href:"/admin/visitors",className:"text-xs text-slate-500 hover:text-brand-amber transition-colors",children:(0,b.jsx)(l.ArrowRight,{size:12})})]}),(0,b.jsx)("div",{className:"divide-y divide-white/5",children:r.length>0?r.map(a=>(0,b.jsxs)("div",{className:"px-5 py-3 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-xs font-mono text-slate-300",children:a.ip}),(0,b.jsx)("div",{className:"text-xs text-slate-500",children:a.city?`${a.city}, ${a.country}`:a.country||"Unknown"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"text-xs text-brand-amber font-bold",children:[a.visitCount,"×"]}),(0,b.jsx)("div",{className:"text-xs text-slate-600",children:a.device})]})]},a.id)):(0,b.jsx)("div",{className:"py-6 text-center text-slate-500 text-xs",children:"No visitors yet"})})]}),(0,b.jsxs)("div",{className:"glass-card border border-white/10 rounded-xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-5 py-4 border-b border-white/10 flex items-center gap-2",children:[(0,b.jsx)(h,{size:14,className:"text-pink-400"}),(0,b.jsx)("h2",{className:"font-bold text-sm",children:"Recent Posts"})]}),(0,b.jsx)("div",{className:"divide-y divide-white/5",children:s.length>0?s.map(a=>(0,b.jsxs)("div",{className:"px-5 py-3",children:[(0,b.jsx)("div",{className:"text-xs font-medium text-slate-200 line-clamp-1",children:a.title}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)("span",{className:"text-xs text-slate-500",children:a.category.name}),(0,b.jsx)("span",{className:`text-xs font-bold px-1.5 py-0.5 rounded-full ${a.published?"bg-green-500/10 text-green-400":"bg-slate-700 text-slate-500"}`,children:a.published?"Published":"Draft"})]})]},a.id)):(0,b.jsx)("div",{className:"py-6 text-center text-slate-500 text-xs",children:"No blog posts yet"})})]})]})]})]})}a.s(["default",()=>n,"dynamic",0,"force-dynamic"],80375)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__52db9fd1._.js.map