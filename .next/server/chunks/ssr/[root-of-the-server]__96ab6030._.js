module.exports=[556704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},120635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},336987,(a,b,c)=>{"use strict";b.exports=a.r(896032).vendored.contexts.HooksClientContext},150890,(a,b,c)=>{"use strict";b.exports=a.r(896032).vendored.contexts.ServerInsertedHtml},37723,(a,b,c)=>{"use strict";b.exports=a.r(896032).vendored["react-ssr"].ReactDOM},486526,a=>{"use strict";let b=(0,a.i(617485).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],486526)},484649,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={default:function(){return k},getImageProps:function(){return j}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});let f=a.r(669197),g=a.r(585043),h=a.r(839044),i=f._(a.r(697877));function j(a){let{props:b}=(0,g.getImgProps)(a,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[32,48,64,96,128,256,384],qualities:[75],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[a,c]of Object.entries(b))void 0===c&&delete b[a];return{props:b}}let k=h.Image},444830,(a,b,c)=>{b.exports=a.r(484649)},511298,a=>{"use strict";var b=a.i(357144),c=a.i(452082),d=a.i(359907),e=a.i(181446),f=a.i(444830),g=a.i(486526);let h=(0,a.i(617485).default)("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);var i=a.i(593398);function j({categories:a,initialData:j}){let k=(0,d.useRouter)(),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(j?.coverImage||"");async function r(a){let b=a.target.files?.[0];if(!b)return;o(!0);let c=new FormData;c.append("file",b);try{let a=await fetch("/api/upload",{method:"POST",body:c});if(!a.ok)throw Error("Upload failed");let b=await a.json();q(b.url),e.toast.success("Image uploaded!")}catch(a){console.error(a),e.toast.error("Failed to upload image")}finally{o(!1)}}async function s(a){a.preventDefault(),m(!0);let b=new FormData(a.currentTarget);p&&b.set("coverImage",p),j?.id&&b.append("id",j.id);try{let a=await fetch("/api/blog/data",{method:"POST",body:b});if(a.ok)e.toast.success("Post saved successfully!"),k.push("/admin/blogs"),k.refresh();else{let b=await a.json();e.toast.error(b.error||"Failed to save post")}}catch(a){e.toast.error("Internal server error")}m(!1)}return(0,b.jsx)("form",{onSubmit:s,className:"space-y-8 glass-card p-6 md:p-10 rounded-2xl border border-white/5",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Article Title"}),(0,b.jsx)("input",{name:"title",defaultValue:j?.title,required:!0,placeholder:"e.g. Scaling Flutter Apps for 1M Users",className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-slate-600 focus:outline-none focus:border-brand-amber font-display text-lg"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Short Excerpt (SEO Meta Description)"}),(0,b.jsx)("textarea",{name:"excerpt",defaultValue:j?.excerpt,required:!0,rows:3,placeholder:"Summarize your article in 1-2 sentences. Crucial for Google CTR.",className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-slate-600 focus:outline-none focus:border-brand-amber resize-none"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-slate-400",children:"Content (Markdown)"}),(0,b.jsx)("span",{className:"text-xs text-brand-amber bg-brand-amber/10 px-2 py-0.5 rounded-full border border-brand-amber/20",children:"Supports GFM Code Blocks"})]}),(0,b.jsx)("textarea",{name:"content",defaultValue:j?.content,required:!0,rows:20,placeholder:"## Introduction\\n\\nStart writing your next masterpiece here...",className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white placeholder-slate-600 focus:outline-none focus:border-brand-amber font-mono text-sm leading-relaxed"})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Cover Image"}),(0,b.jsxs)("div",{className:"relative group w-full aspect-video rounded-xl border-2 border-dashed border-white/10 hover:border-brand-amber overflow-hidden transition-colors flex flex-col items-center justify-center bg-black/50",children:[p?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.default,{src:p,alt:"Preview",fill:!0,className:"object-cover"}),(0,b.jsx)("button",{type:"button",onClick:()=>q(""),className:"absolute top-2 right-2 p-1.5 bg-black/80 hover:bg-red-500 rounded-full text-white transition-colors",children:(0,b.jsx)(i.X,{size:14})})]}):(0,b.jsxs)("div",{className:"text-center p-4",children:[(0,b.jsx)(h,{className:"mx-auto text-slate-500 mb-2 group-hover:text-brand-amber transition-colors",size:24}),(0,b.jsx)("span",{className:"text-xs text-slate-500 px-4",children:"Click or drag image here (16:9 recommended)"})]}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:r,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:n})]}),n&&(0,b.jsx)("p",{className:"text-xs text-brand-amber mt-2 text-center animate-pulse",children:"Uploading..."}),(0,b.jsx)("input",{type:"hidden",name:"coverImage",value:p})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Category"}),(0,b.jsxs)("select",{name:"categoryId",defaultValue:j?.categoryId||"",required:!0,className:"w-full bg-black/50 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-brand-amber",children:[(0,b.jsx)("option",{value:"",disabled:!0,children:"Select a Category..."}),a.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsx)("div",{className:"pt-4 border-t border-white/5 space-y-4",children:(0,b.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer group",children:[(0,b.jsxs)("div",{className:"relative flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",name:"published",value:"true",defaultChecked:j?.published,className:"peer sr-only"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-slate-800 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500 border border-white/10"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-white block group-hover:text-emerald-400 transition-colors",children:"Publish Live"}),(0,b.jsx)("span",{className:"text-xs text-slate-500",children:"Make this visible to users immediately"})]})]})}),(0,b.jsxs)("button",{type:"submit",disabled:l||n||!p,className:"w-full btn-primary flex items-center justify-center gap-2 px-6 py-4 rounded-xl bg-brand-amber text-black hover:bg-white transition-colors font-bold disabled:opacity-50 disabled:cursor-not-allowed mt-8",children:[(0,b.jsx)(g.Save,{size:18})," ",l?"Processing...":j?"Update Article":"Save Article"]}),!p&&(0,b.jsx)("p",{className:"text-xs text-red-400 text-center uppercase tracking-wider font-bold",children:"Cover image required"})]})]})})}a.s(["default",()=>j],511298)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__96ab6030._.js.map