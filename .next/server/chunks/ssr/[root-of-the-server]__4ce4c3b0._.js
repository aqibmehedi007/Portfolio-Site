module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},82192,a=>{a.n(a.i(779758))},154511,a=>{a.n(a.i(921552))},983035,a=>{a.n(a.i(691564))},583360,a=>{a.n(a.i(865453))},448230,a=>{a.n(a.i(405851))},996597,a=>{a.n(a.i(726606))},413565,a=>{"use strict";let b=(0,a.i(845945).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],413565)},682288,a=>{"use strict";let b=(0,a.i(845945).default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);a.s(["Smartphone",()=>b],682288)},723562,a=>{"use strict";let b=(0,a.i(845945).default)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]]);a.s(["Clock",()=>b],723562)},763190,a=>{"use strict";var b=a.i(80335),c=a.i(505059),d=a.i(544034),e=a.i(845945);let f=(0,e.default)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var g=a.i(682288);let h=(0,e.default)("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]),i=(0,e.default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var j=a.i(723562),k=a.i(413565),l=a.i(413366);async function m(){let a=await c.prisma.visitor.findMany({orderBy:{lastVisit:"desc"},take:200}),b=a.length,d=a.reduce((a,b)=>a+b.visitCount,0),e=a.reduce((a,b)=>{let c=b.device||"Unknown";return a[c]=(a[c]||0)+1,a},{}),f=Object.entries(a.reduce((a,b)=>{let c=b.country||"Unknown";return a[c]=(a[c]||0)+b.visitCount,a},{})).sort(([,a],[,b])=>b-a).slice(0,10),g=a.reduce((a,b)=>{let c=b.browser||"Other";return a[c]=(a[c]||0)+1,a},{}),h=a.filter(a=>a.latitude&&a.longitude).map(a=>({lat:a.latitude,lng:a.longitude,country:a.country,city:a.city}));return{visitors:a,totalVisitors:b,totalVisits:d,deviceCounts:e,topCountries:f,browserCounts:g,geoPoints:h}}async function n(){let{visitors:a,totalVisitors:c,totalVisits:e,deviceCounts:n,topCountries:o,browserCounts:p,geoPoints:q}=await m(),r=o[0]?.[1]||1;return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-white",children:"Site Visitors"}),(0,b.jsx)("p",{className:"text-slate-400 mt-1 text-sm",children:"Real-time analytics from your audience worldwide."})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{label:"Total Unique IPs",value:c,icon:l.Users,color:"text-brand-amber"},{label:"Total Page Visits",value:e,icon:k.TrendingUp,color:"text-green-400"},{label:"Countries Reached",value:Object.keys(o).length,icon:d.Globe,color:"text-blue-400"},{label:"Mobile Visitors",value:n.Mobile||0,icon:g.Smartphone,color:"text-purple-400"}].map(a=>(0,b.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-5 flex items-start gap-4",children:[(0,b.jsx)("div",{className:`p-2 rounded-lg bg-white/5 ${a.color}`,children:(0,b.jsx)(a.icon,{size:20})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-xs uppercase tracking-widest",children:a.label}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white mt-1",children:a.value.toLocaleString()})]})]},a.label))}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 bg-white/5 border border-white/10 rounded-xl p-6",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[(0,b.jsx)(d.Globe,{size:18,className:"text-brand-amber"}),"Visitor Origins"]}),(0,b.jsxs)("div",{className:"relative w-full h-56 bg-slate-900/50 rounded-lg overflow-hidden flex items-center justify-center border border-white/5",children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-20 flex items-center justify-center text-slate-600 text-xs",children:"[ Interactive Map — coordinates recorded ]"}),q.slice(0,50).map((a,c)=>{let d=(a.lng+180)/360*100,e=(90-a.lat)/180*100;return(0,b.jsx)("div",{title:`${a.city||""}, ${a.country||""}`,className:"absolute w-2 h-2 rounded-full bg-brand-amber/80 animate-pulse shadow-[0_0_6px_rgba(251,191,36,0.8)]",style:{left:`${d}%`,top:`${e}%`,transform:"translate(-50%,-50%)"}},c)}),0===q.length&&(0,b.jsx)("p",{className:"text-slate-500 text-sm z-10",children:"Waiting for first visitors..."})]}),(0,b.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,b.jsx)("h3",{className:"text-sm font-medium text-slate-400 uppercase tracking-widest",children:"Top Countries"}),o.map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-slate-300 text-sm w-32 truncate",children:a}),(0,b.jsx)("div",{className:"flex-1 bg-white/5 rounded-full h-2 overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-brand-amber to-yellow-300 rounded-full",style:{width:`${c/r*100}%`}})}),(0,b.jsx)("span",{className:"text-slate-400 text-xs w-8 text-right",children:c})]},a)),0===o.length&&(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"No data yet."})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-5",children:[(0,b.jsx)("h2",{className:"text-base font-semibold text-white mb-4",children:"Device Types"}),(0,b.jsx)("div",{className:"space-y-3",children:[{label:"Desktop",key:"Desktop",Icon:f,color:"text-blue-400"},{label:"Mobile",key:"Mobile",Icon:g.Smartphone,color:"text-green-400"},{label:"Tablet",key:"Tablet",Icon:h,color:"text-purple-400"}].map(({label:a,key:d,Icon:e,color:f})=>{let g=n[d]||0,h=c>0?Math.round(g/c*100):0;return(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(e,{size:16,className:f}),(0,b.jsx)("span",{className:"text-slate-300 text-sm flex-1",children:a}),(0,b.jsx)("span",{className:"text-slate-400 text-sm",children:g}),(0,b.jsxs)("span",{className:"text-xs text-slate-500 w-8 text-right",children:[h,"%"]})]},d)})})]}),(0,b.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-5",children:[(0,b.jsx)("h2",{className:"text-base font-semibold text-white mb-4",children:"Browsers"}),(0,b.jsxs)("div",{className:"space-y-3",children:[Object.entries(p).sort(([,a],[,b])=>b-a).slice(0,5).map(([a,d])=>{let e=c>0?Math.round(d/c*100):0;return(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-slate-300 text-sm flex-1",children:a}),(0,b.jsx)("div",{className:"w-16 bg-white/5 rounded-full h-1.5 overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-brand-amber rounded-full",style:{width:`${e}%`}})}),(0,b.jsx)("span",{className:"text-slate-400 text-sm w-6 text-right",children:d})]},a)}),0===Object.keys(p).length&&(0,b.jsx)("p",{className:"text-slate-500 text-sm",children:"No data yet."})]})]})]})]}),(0,b.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-xl overflow-hidden",children:[(0,b.jsxs)("div",{className:"px-6 py-4 border-b border-white/10 flex items-center justify-between",children:[(0,b.jsxs)("h2",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[(0,b.jsx)(i,{size:18,className:"text-brand-amber"}),"Visitor Log"]}),(0,b.jsxs)("span",{className:"text-slate-400 text-sm",children:[a.length," unique IPs"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-white/5 text-slate-500 text-xs uppercase tracking-widest",children:[(0,b.jsx)("th",{className:"text-left px-6 py-3",children:"IP Address"}),(0,b.jsx)("th",{className:"text-left px-4 py-3",children:"Location"}),(0,b.jsx)("th",{className:"text-left px-4 py-3",children:"Device"}),(0,b.jsx)("th",{className:"text-left px-4 py-3",children:"Browser"}),(0,b.jsx)("th",{className:"text-left px-4 py-3",children:"Visits"}),(0,b.jsx)("th",{className:"text-left px-4 py-3",children:"Last Seen"})]})}),(0,b.jsxs)("tbody",{children:[a.map(a=>(0,b.jsxs)("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-3 font-mono text-slate-300 text-xs",children:a.ip}),(0,b.jsx)("td",{className:"px-4 py-3 text-slate-400",children:a.city&&a.country?`${a.city}, ${a.country}`:a.country||"—"}),(0,b.jsx)("td",{className:"px-4 py-3 text-slate-400",children:a.device||"—"}),(0,b.jsx)("td",{className:"px-4 py-3 text-slate-400",children:a.browser||"—"}),(0,b.jsx)("td",{className:"px-4 py-3",children:(0,b.jsx)("span",{className:"bg-brand-amber/10 text-brand-amber text-xs font-bold px-2 py-0.5 rounded-full",children:a.visitCount})}),(0,b.jsxs)("td",{className:"px-4 py-3 text-slate-500 text-xs flex items-center gap-1",children:[(0,b.jsx)(j.Clock,{size:12}),new Date(a.lastVisit).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]},a.id)),0===a.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-500",children:"No visitors recorded yet. They will appear here automatically."})})]})]})})]})]})}a.s(["default",()=>n,"dynamic",0,"force-dynamic"],763190)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4ce4c3b0._.js.map